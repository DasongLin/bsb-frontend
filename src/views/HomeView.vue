<script setup>
import { ref, onMounted } from 'vue'

const msg = ref('æ­£åœ¨è¿æ¥åç«¯...')
onMounted(() => {
  // ç¬¬ä¸€æ­¥ï¼šç¡®è®¤ç»„ä»¶åŠ è½½
  msg.value = 'ğŸ‘‰ æˆ‘ä»¬å·²åŠ è½½ HomeView ç»„ä»¶'
  
  // ç¬¬äºŒæ­¥ï¼š1 ç§’åå†å»è°ƒç”¨åç«¯ API
  setTimeout(async () => {
    try {
      const res = await fetch(`${import.meta.env.VITE_API_URL}/api`).then(r => r.json())
      const data = await res.json()
      msg.value = data.msg   // æ˜¾ç¤ºåç«¯è¿”å›
    } catch (err) {
      console.error(err)
      msg.value = 'âŒ æ— æ³•è¿æ¥åç«¯ï¼Œç¡®è®¤ FastAPI æ˜¯å¦è¿è¡Œä¸­'
    }
  }, 1000)
})
</script>

<template>
  <div
    style="display:flex;
           justify-content:center;
           align-items:center;
           height:100vh;
           font-size:1.5rem;"
  >
    <h1>{{ msg }}</h1>
  </div>
</template>
